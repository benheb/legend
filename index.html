<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8"/> 
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Legend Test Page</title>

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <link rel="stylesheet" href="legend.css" />
    <style>
      body {
        margin:0px;
        padding:0px;
      }
      #legend-container {
        width:300px;
        height:auto;
        margin:50px;
        position: relative;
      }
    </style>
  </head>
  <body>

    <div id="legend-container"></div>

    <script src="sortable.js"></script>
    <script src="legend.js"></script>

    <script>
      var rend1 = '{"visualVariables":[{"type":"colorInfo","field":"AREA","stops":[{"value":33.3183239407,"color":[255,255,204,200],"label":null},{"value":625.8122922581125,"color":[255,237,160,200],"label":null},{"value":1218.306260575525,"color":[254,217,118,200],"label":null},{"value":1810.8002288929374,"color":[254,178,76,200],"label":null},{"value":2403.29419721035,"color":[253,141,60,200],"label":null},{"value":2995.7881655277624,"color":[252,78,42,200],"label":null},{"value":3588.282133845175,"color":[227,26,28,200],"label":null},{"value":4180.776102162587,"color":[177,0,38,200],"label":null}]}],"type":"simple","label":"","description":"","symbol":{"color":[43,140,190,200],"outline":{"color":[255,255,255,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}';

      var rend2 = '{"visualVariables":[{"type":"colorInfo","field":"DIST","stops":[{"value":1,"color":[255,255,217,200],"label":null},{"value":4.5,"color":[237,248,177,200],"label":null},{"value":8,"color":[199,233,180,200],"label":null},{"value":11.5,"color":[127,205,187,200],"label":null},{"value":15,"color":[65,182,196,200],"label":null},{"value":18.5,"color":[29,145,192,200],"label":null},{"value":22,"color":[34,94,168,200],"label":null},{"value":25.5,"color":[12,44,132,200],"label":null}]}],"type":"simple","label":"","description":"","symbol":{"color":[43,140,190,200],"outline":{"color":[255,255,255,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}'

      var rend3 = '{"type":"classBreaks","field":"WAVE_HEIGHT","defaultSymbol":{"color":[78,179,211,200],"size":6,"angle":0,"xoffset":0,"yoffset":0,"type":"esriSMS","style":"esriSMSCircle","outline":{"color":[115,115,115,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"}},"minValue":1,"classBreakInfos":[{"symbol":{"color":[78,179,211,200],"size":4,"angle":0,"xoffset":0,"yoffset":0,"type":"esriSMS","style":"esriSMSCircle","outline":{"color":[115,115,115,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"}},"label":0,"classMaxValue":0},{"symbol":{"color":[78,179,211,200],"size":10,"angle":0,"xoffset":0,"yoffset":0,"type":"esriSMS","style":"esriSMSCircle","outline":{"color":[115,115,115,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"}},"label":"> 0 to 0.5","classMaxValue":0.5},{"symbol":{"color":[78,179,211,200],"size":16,"angle":0,"xoffset":0,"yoffset":0,"type":"esriSMS","style":"esriSMSCircle","outline":{"color":[115,115,115,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"}},"label":"> 0.5 to 1","classMaxValue":1},{"symbol":{"color":[78,179,211,200],"size":22,"angle":0,"xoffset":0,"yoffset":0,"type":"esriSMS","style":"esriSMSCircle","outline":{"color":[115,115,115,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"}},"label":"> 1 to 1.5","classMaxValue":1.5},{"symbol":{"color":[78,179,211,200],"size":30,"angle":0,"xoffset":0,"yoffset":0,"type":"esriSMS","style":"esriSMSCircle","outline":{"color":[115,115,115,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"}},"label":"> 1.5 to 2","classMaxValue":2}]}'

      rend1 = JSON.parse(rend1);
      rend2 = JSON.parse(rend2);
      rend3 = JSON.parse(rend3);

      var legend = new Legend('legend-container', {
        editable: false,
        layers: [
          {
            'id': '123',
            'name': 'The first layer has a very long title ok?! No, I mean long...',
            'renderer': rend1
          },
          {
            'id': '456',
            'name': 'this_has_a_bad_Title_format',
            'renderer': rend2
          },
          {
            'id': '789',
            'name': 'Here is an unclassified point layer',
            'renderer': {
                "type": "simple",
                "label": "",
                "description": "",
                "symbol": {
                  "color": [
                    78,
                    179,
                    211,
                    200
                  ],
                  "size": 6,
                  "angle": 0,
                  "xoffset": 0,
                  "yoffset": 0,
                  "type": "esriSMS",
                  "style": "esriSMSCircle",
                  "outline": {
                    "color": [
                      82,
                      82,
                      82,
                      255
                    ],
                    "width": 0.5,
                    "type": "esriSLS",
                    "style": "esriSLSSolid"
                  }
                },
                "field": null,
                "minValue": 1,
                "classBreakInfos": null,
                "layerId": "01b3192216804cf3a262b8aafe93ef4d_0"
              }
          },
          {
            'id': '101112',
            'name': 'graduate layer but not choropleth',
            'renderer': rend3
          }
        ]
      });


    </script>
  </body>
</html>
