<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8"/> 
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Legend Test Page</title>

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <link rel="stylesheet" href="legend.css" />
    <style>
      body {
        margin:0px;
        padding:0px;
      }
      #legend-container {
        width:300px;
        height:auto;
        margin:50px;
        position: relative;
      }
    </style>
  </head>
  <body>
    <div id="legend-container"></div>

    <script src="legend.js"></script>

    <script>
      var rend1 = '{"visualVariables":[{"type":"colorInfo","field":"AREA","stops":[{"value":33.3183239407,"color":[255,255,204,200],"label":null},{"value":625.8122922581125,"color":[255,237,160,200],"label":null},{"value":1218.306260575525,"color":[254,217,118,200],"label":null},{"value":1810.8002288929374,"color":[254,178,76,200],"label":null},{"value":2403.29419721035,"color":[253,141,60,200],"label":null},{"value":2995.7881655277624,"color":[252,78,42,200],"label":null},{"value":3588.282133845175,"color":[227,26,28,200],"label":null},{"value":4180.776102162587,"color":[177,0,38,200],"label":null}]}],"type":"simple","label":"","description":"","symbol":{"color":[43,140,190,200],"outline":{"color":[255,255,255,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}';

      var rend2 = '{"visualVariables":[{"type":"colorInfo","field":"DIST","stops":[{"value":1,"color":[255,255,217,200],"label":null},{"value":4.5,"color":[237,248,177,200],"label":null},{"value":8,"color":[199,233,180,200],"label":null},{"value":11.5,"color":[127,205,187,200],"label":null},{"value":15,"color":[65,182,196,200],"label":null},{"value":18.5,"color":[29,145,192,200],"label":null},{"value":22,"color":[34,94,168,200],"label":null},{"value":25.5,"color":[12,44,132,200],"label":null}]}],"type":"simple","label":"","description":"","symbol":{"color":[43,140,190,200],"outline":{"color":[255,255,255,255],"width":0.5,"type":"esriSLS","style":"esriSLSSolid"},"type":"esriSFS","style":"esriSFSSolid"}}'

      rend1 = JSON.parse(rend1);
      rend2 = JSON.parse(rend2);

      var legend = new Legend('legend-container', {
        editable: true,
        layers: [
          {
            'id': '0258',
            'name': 'Graduated + Themed',
            'renderer': {
                "type": "classBreaks",
                "label": "",
                "description": "",
                "symbol": {
                  "color": [
                    43,
                    140,
                    190,
                    200
                  ],
                  "size": 6,
                  "angle": 0,
                  "xoffset": 0,
                  "yoffset": 0,
                  "type": "esriSMS",
                  "style": "esriSMSCircle",
                  "outline": {
                    "color": [
                      140,
                      150,
                      198,
                      255
                    ],
                    "width": 0.5,
                    "type": "esriSLS",
                    "style": "esriSLSSolid"
                  }
                },
                "field": "WIND_SPEED",
                "minValue": 1,
                "classBreakInfos": [
                  {
                    "symbol": {
                      "color": {
                        "r": 43,
                        "g": 140,
                        "b": 190,
                        "a": 0.7843137254901961
                      },
                      "size": 5.333333333333333,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 140,
                          "g": 150,
                          "b": 198,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid"
                      },
                      "xoffset": 0,
                      "yoffset": 0
                    },
                    "label": 0,
                    "classMaxValue": 0,
                    "minValue": 1,
                    "maxValue": 0
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 43,
                        "g": 140,
                        "b": 190,
                        "a": 0.7843137254901961
                      },
                      "size": 13.333333333333332,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 140,
                          "g": 150,
                          "b": 198,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid"
                      },
                      "xoffset": 0,
                      "yoffset": 0
                    },
                    "label": "> 0 to 8.125",
                    "classMaxValue": 8.125,
                    "minValue": 0,
                    "maxValue": 8.125
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 43,
                        "g": 140,
                        "b": 190,
                        "a": 0.7843137254901961
                      },
                      "size": 21.333333333333332,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 140,
                          "g": 150,
                          "b": 198,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid"
                      },
                      "xoffset": 0,
                      "yoffset": 0
                    },
                    "label": "> 8.125 to 16.25",
                    "classMaxValue": 16.25,
                    "minValue": 8.125,
                    "maxValue": 16.25
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 43,
                        "g": 140,
                        "b": 190,
                        "a": 0.7843137254901961
                      },
                      "size": 29.333333333333332,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 140,
                          "g": 150,
                          "b": 198,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid"
                      },
                      "xoffset": 0,
                      "yoffset": 0
                    },
                    "label": "> 16.25 to 24.375",
                    "classMaxValue": 24.375,
                    "minValue": 16.25,
                    "maxValue": 24.375
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 43,
                        "g": 140,
                        "b": 190,
                        "a": 0.7843137254901961
                      },
                      "size": 40,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 140,
                          "g": 150,
                          "b": 198,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid"
                      },
                      "xoffset": 0,
                      "yoffset": 0
                    },
                    "label": "> 24.375 to 32.5",
                    "classMaxValue": 32.5,
                    "minValue": 24.375,
                    "maxValue": 32.5
                  }
                ],
                "layerId": null,
                "visualVariables": [
                  {
                    "type": "colorInfo",
                    "field": "WIND_SPEED",
                    "stops": [
                      {
                        "value": 0,
                        "color": {
                          "r": 247,
                          "g": 252,
                          "b": 253,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 8.125,
                        "color": {
                          "r": 224,
                          "g": 236,
                          "b": 244,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 16.25,
                        "color": {
                          "r": 191,
                          "g": 211,
                          "b": 230,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 24.375,
                        "color": {
                          "r": 158,
                          "g": 188,
                          "b": 218,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 32.5,
                        "color": {
                          "r": 140,
                          "g": 150,
                          "b": 198,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 40.625,
                        "color": {
                          "r": 140,
                          "g": 107,
                          "b": 177,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 48.75,
                        "color": {
                          "r": 136,
                          "g": 65,
                          "b": 157,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      },
                      {
                        "value": 56.875,
                        "color": {
                          "r": 110,
                          "g": 1,
                          "b": 107,
                          "a": 0.7843137254901961
                        },
                        "label": null
                      }
                    ]
                  }
                ]
              }
          },
          {
            'id': '123',
            'name': 'The first layer has a very long title ok?! No, I mean long...',
            'renderer': rend1
          },
          {
            'id': '456',
            'name': 'this_has_a_bad_Title_format',
            'renderer': rend2
          },
          {
            'id': '789',
            'name': 'Here is an unclassified point layer',
            'renderer': {
                "type": "simple",
                "label": "",
                "description": "",
                "symbol": {
                  "color": [
                    78,
                    179,
                    211,
                    200
                  ],
                  "size": 6,
                  "angle": 0,
                  "xoffset": 0,
                  "yoffset": 0,
                  "type": "esriSMS",
                  "style": "esriSMSCircle",
                  "outline": {
                    "color": [
                      82,
                      82,
                      82,
                      255
                    ],
                    "width": 0.5,
                    "type": "esriSLS",
                    "style": "esriSLSSolid"
                  }
                },
                "field": null,
                "minValue": 1,
                "classBreakInfos": null,
                "layerId": "01b3192216804cf3a262b8aafe93ef4d_0"
              }
          },
          {
            'id': '101112',
            'name': 'graduate layer but not choropleth',
            'renderer': {
                "visualVariables": null,
                "type": "classBreaks",
                "label": "",
                "description": "",
                "symbol": {
                  "color": [
                    78,
                    179,
                    211,
                    200
                  ],
                  "size": 6,
                  "angle": 0,
                  "xoffset": 0,
                  "yoffset": 0,
                  "type": "esriSMS",
                  "style": "esriSMSCircle",
                  "outline": {
                    "color": [
                      82,
                      82,
                      82,
                      255
                    ],
                    "width": 0.5,
                    "type": "esriSLS",
                    "style": "esriSLSSolid"
                  }
                },
                "field": "ELEVATION",
                "minValue": 1,
                "classBreakInfos": [
                  {
                    "symbol": {
                      "color": {
                        "r": 78,
                        "g": 179,
                        "b": 211,
                        "a": 0.7843137254901961
                      },
                      "size": 5.333333333333333,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 82,
                          "g": 82,
                          "b": 82,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid",
                        "_inherited": {
                          "p": 2
                        }
                      },
                      "xoffset": 0,
                      "yoffset": 0,
                      "_inherited": {
                        "p": 2
                      }
                    },
                    "label": -35,
                    "classMaxValue": -35,
                    "minValue": 1,
                    "maxValue": -35
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 78,
                        "g": 179,
                        "b": 211,
                        "a": 0.7843137254901961
                      },
                      "size": 13.333333333333332,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 82,
                          "g": 82,
                          "b": 82,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid",
                        "_inherited": {
                          "p": 2
                        }
                      },
                      "xoffset": 0,
                      "yoffset": 0,
                      "_inherited": {
                        "p": 2
                      }
                    },
                    "label": "> -35 to 471.125",
                    "classMaxValue": 471.125,
                    "minValue": -35,
                    "maxValue": 471.125
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 78,
                        "g": 179,
                        "b": 211,
                        "a": 0.7843137254901961
                      },
                      "size": 21.333333333333332,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 82,
                          "g": 82,
                          "b": 82,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid",
                        "_inherited": {
                          "p": 2
                        }
                      },
                      "xoffset": 0,
                      "yoffset": 0,
                      "_inherited": {
                        "p": 2
                      }
                    },
                    "label": "> 471.125 to 977.25",
                    "classMaxValue": 977.25,
                    "minValue": 471.125,
                    "maxValue": 977.25
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 78,
                        "g": 179,
                        "b": 211,
                        "a": 0.7843137254901961
                      },
                      "size": 29.333333333333332,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 82,
                          "g": 82,
                          "b": 82,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid",
                        "_inherited": {
                          "p": 2
                        }
                      },
                      "xoffset": 0,
                      "yoffset": 0,
                      "_inherited": {
                        "p": 2
                      }
                    },
                    "label": "> 977.25 to 1483.375",
                    "classMaxValue": 1483.375,
                    "minValue": 977.25,
                    "maxValue": 1483.375
                  },
                  {
                    "symbol": {
                      "color": {
                        "r": 78,
                        "g": 179,
                        "b": 211,
                        "a": 0.7843137254901961
                      },
                      "size": 40,
                      "type": "simplemarkersymbol",
                      "style": "circle",
                      "outline": {
                        "color": {
                          "r": 82,
                          "g": 82,
                          "b": 82,
                          "a": 1
                        },
                        "width": 0.6666666666666666,
                        "type": "simplelinesymbol",
                        "style": "solid",
                        "_inherited": {
                          "p": 2
                        }
                      },
                      "xoffset": 0,
                      "yoffset": 0,
                      "_inherited": {
                        "p": 2
                      }
                    },
                    "label": "> 1483.375 to 1989.5",
                    "classMaxValue": 1989.5,
                    "minValue": 1483.375,
                    "maxValue": 1989.5
                  }
                ],
                "layerId": "01b3192216804cf3a262b8aafe93ef4d_0"
              }
          }
        ]
      });
    </script>
  </body>
</html>
